/**
* {{ camelCase name }} schema (auto-generated)
*/
const mongoose = require('mongoose');

const {{ camelCase name }}Schema = new mongoose.Schema({
{{#each source }}
  {{#if obj}}
  {{key}}: {
    {{#each obj}}
    {{#if obj}}
    {{key}}: {
      {{#each obj}}
      {{key}}: {{titleCase val}},
      {{/each}}
    },
    {{else}}
    {{key}}: {{titleCase val}},
    {{/if}}
    {{/each}}
  },
  {{else}}
  {{key}}: {{titleCase val}},
  {{/if}}
  {{/each}}
});

/*
// decompose a virtual value from the model into database schema fields
{{ camelCase name }}Schema.virtual('prop.path.here').set(val => {
  this.first = val.split(' ')[0];
  this.last = val.split(' ')[1];
})
// compose a virtual value from the model instance and store as a field
{{ camelCase name }}Schema.virtual('prop.path.here').get(function () {
  return `${this.first} ${this.last}`; // a full name virtual property
})
*/

const {{ camelCase name }} = mongoose.model('{{ camelCase name }}', {{ camelCase name }}Schema);
module.exports = {{ camelCase name }};
